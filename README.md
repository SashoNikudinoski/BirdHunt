# BirdHunt
Проект за предметот Визуелно програмирање изработен од: Александар Арабаџиев и Сашо Никудиноски.
<hr/>

### 1. Опис на играта

Апликацијата која ја развивме е наменета како проект за предметот Визуелно програмирање и се работи за апликација во <b>Windows Forms</b>. Се работи за кратка игра, наречена BirdHunt ("Лов на птици") во која играчот има задача за дадено време да постигне одреден резултат убивајќи птици. 
Главната идеја на играта е секој играч да го даде својот максимум и потоа во табелата на најдобри резултати да се добие победникот, односно играчот со најмногу поени. За играта да биде поинтересна, направена е во вид на cartoon игра.

<hr/>

### 2. Упатство за користење

Кога корисникот ќе ја стартува апликацијата, на екранот се прикажува почетната windows форма која е всушност почетното мени (Слика 1). На ова почетно мени имаме 4 опции, како што се: 

<ul>
<li>Play - со притискање на копчето се започнува играта.</li>
<li>High Scores - со притискање на копчето се прикажува нова форма во која ги има најдобрите играчи.</li>
<li>Instrcutions - со притискање на копчето се прикажува форма со инструкции и правила.</li>
<li>Exit - со притискање на копчето се гаси играта.</li>
</ul>

![menu](https://cloud.githubusercontent.com/assets/18098833/26530149/92141ebc-43cf-11e7-8e85-e7b63f42216f.png)
<p align=center><i>Слика 1</i></p>

#### Play

Откако корисникот на апликацијата ќе ја започне играта, на екранот се прикажува нова форма преку која тој задолжително мора да внесе свое корисничко име (Слика 2). Доколку корисникот не го направи тоа, тој не може да продожи понатаму бидејќи на полето за username имаме поставено <b>ErrorValidator</b>. 

![user](https://cloud.githubusercontent.com/assets/18098833/26530166/f9b7499a-43cf-11e7-943e-1707967ac7bf.png)
<p align=center>Слика 2</p>

Откако корисникот внел username играта може да започне. На екранот се прикажува нова форма на која има 3 птици кои по случајност се појавуваат на одредени позиции (Слика 3). Играчот е задолжен за максимум 15 секунди да направи 45 поени за да може да ја продолжи играта. Еден вид птица носи 5 поени, другите по 3 поени. Доколку птицата не биде убиена и излезе од ширината на формата, тогаш играчот губи поени. Своите резултати, играчот може да ги види во долниот лев агол каде е сместена панела на која се прикажани: преостанато време, моменталниот резултат и целосниот резултат.

![ingame](https://cloud.githubusercontent.com/assets/18098833/26530174/3339fe24-43d0-11e7-805a-7a9eebe13841.png)
<p align=center><i>Слика 3</i></p>

Птиците се анимации од gif формат и се придвижуваат со соодветен <b>timer</b>. Секоја птица е различно движена со различен интервал на timer. За да провериме дали играчот ги исполнил условите за наредното ниво, ја користиме функцијата:

```csharp
public void Proverka()
        {
            if (score >= 45 && Time > 0)
            {
                btnNext.Visible = true;        
            }
            else if (Time == 0)
            {
                if (score >= 45)
                {
                    ptica1.Hide();
                    ptica2.Hide();
                    ptica3.Hide();
                    timerTimeLeft.Stop();
                    timer1.Stop();
                    timer2.Stop();
                }
                else
                {
                    btnGameOver.Visible = true;
                    lblGameOver.Visible = true;
                    ptica1.Hide();
                    ptica2.Hide();
                    ptica3.Hide();
                    timerTimeLeft.Stop();
                    timer1.Stop();
                    timer2.Stop();
                    HighScores h = new HighScores();
                    Player p1 = new Player();
                    p1.username = Username;
                    p1.score = totalScore;
                    h.addPlayer(p1);
                    h.Save();     
                }
            }
        }
```

Наредните две нивоа се разликуваат од првото по тоа што имаат различна позадина, различни птици со различни карактеристики.
На последното ниво, доколку играчот ѓи исполнил условите за завршување на играта на екранот се прикажува текст со кој му се честита и автоматски му се зачувува резултатот во High Scores. Доколку играчот не ги исполнил условите за било кое ниво се прикажува копче Main Menu кое води до почетната форма каде може да одлучи дали повторно ќе игра или ќе ја исклучи играта.


#### HighScores

Во оваа форма играчот може да го спореди својот резултат со останатите играчи и да види кој е најдобар играч (Слика 4).
На екранот се прикажува контрола од типот ListBox во која се прикажани сите податоци од датотеката HighScores.txt.

![highscores](https://cloud.githubusercontent.com/assets/18098833/26530178/5aaad762-43d0-11e7-9e36-fcc0f0dbfe01.png)
<p align=center> <i>Слика 4</i></p>

#### Instructions 

Пред почетокот на играта, секој корисник може да се информира за правилата на игра преку оваа форма (Слика 5). 
Во оваа секција прикажани се слики од секоја птица во играта како и поените што ги носат. Секоја птица е поставена во PictureBox контрола, додека поените се прикажани со лабели.
На дното има копче за враќање на почетното мени.

![instrcutions](https://cloud.githubusercontent.com/assets/18098833/26530187/719ad3d2-43d0-11e7-9b80-970b64577e4c.png)
<p align=center><i>Слика 5</i></p>

#### Exit 

Копче за исклучување на играта.

<hr/>

### 3. Податочни структури

Податоците за секој играч се чуваат во класата ```csharp public class Player ```, која изгледа вака:

```csharp 
   [Serializable]
   public class Player
    {
        public string username { get; set; }
        public int score { get; set; }

        public Player() { }
        public Player(string username, int score)
        {
            this.username = username;
            this.score = score;
        }
        public override string ToString()
        {
            return string.Format("{0} - {1}", username, score.ToString());
        }

    }
```

За зачувување на резултатот на играчот ја користиме класата <b>HighScores</b> која содржи листа од објекти од класата Player. Од оваа класа се повикуваат функциите:

``` csharp
 public void sortScores()
 {
      List<Player> sorted = players.OrderBy(o=>o.score).ToList();
      players = sorted;
 }

 public void Save()
 {
      sortScores();
      string fileName = "Highscores.txt";
      string fpath = Path.GetFullPath(fileName);

      foreach (Player p in players)
      {
          using (System.IO.StreamWriter file = new System.IO.StreamWriter(fpath, true))
          {
            file.WriteLine(p.ToString());
          }
      }
}
```
